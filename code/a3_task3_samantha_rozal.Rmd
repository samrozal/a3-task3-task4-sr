---
title: "a3_task3_samantha_rozal"
author: "Sam Rozal"
date: "10/24/2021"
output: html_document
---
#Setup
```{r setup, include=FALSE, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#attach packages
library(here)
library(tidyverse)
library(janitor)
library(DT)
library(plotly)
library(lubridate)
```

# Read In the Data 
```{r}
#read in urchin data using read_csv

urchins <- read_csv(here("data", "urchins.csv"))

```

# Section 1
Size Comparison of purple and red urchins

## Data Visulaization
Compare distribution of sizes between red and purple urchins with a histogram 

### Data Wrangling: 
```{r}
urchins_clean <- clean_names(urchins)
```

### Data Visulaiztaion:
```{r}
ggplot(data=urchins_clean, aes(x=size)) +
  geom_histogram(aes(fill=common_name))+
  facet_wrap(~common_name) +
  labs(x="Urchin Diameter (cm)", 
       y= "Urchin Count", 
       title= "Distribution of Purple and Red Urchin Sizes")+
  theme_bw()

```
Figure 1. I need to add a cation here XD

### Descriptive Statistics Table

```{r}
urchins_summary <- urchins_clean %>% 
  group_by(common_name) %>%
  summarize(mean_urchin_size = mean(size),
            median_urchin_size = median(size),
            sd_urchin_size = sd(size),
            urchin_sample_size = n())
urchins_summary

```

Section iii of Section 1-- I need to add a 2-3 sentanece description...



# Section 2

### Explore purple urchin counts by site and year
create a subset entitled `purple_urchins` by filtering only for purple urchins using the `filter()` function and convert the date class to "Date"
```{r}
purple_urchins <- urchins_clean %>%
  filter(common_name == "Purple Urchin") %>% 
  mutate(new_date=mdy(date)) %>%
  mutate(year_new = year(new_date)) %>%
  mutate(site_full = case_when(
    site == "NAPL" ~ "Naples Reef",
    site == "AQUE" ~ "Arroyo Quemado Reef",
    site == "CARP" ~ "Carpinteria Reef",
    site == "MOHK" ~ "Mohawk Reef",
    site == "IVEE" ~ "Isla Vista Reef"
  ))
  
```

write code to store table that has the total number of purple urchins observed by site and year 

```{r}
purple_urchins_total <- purple_urchins %>%
  group_by(year_new) %>% 
  summarize(n()) 
  
    
purple_urchins_total
```

